16|你的测试够不够好？

原则：
1. 只有将复杂的测试拆分成简单的测试，测试才有可能做好。如果测试代码复杂，就不能保证测试代码的正确性。
1. 把测试写简单，简单到一目了然，如果你见到哪个测试写得很复杂，它一定不是一个好的测试。
1. 一个单元测试函数，分别是前置准备、执行、断言和清理。

测试的坏味道：
1. 很多人总想在一个测试里做很多的事情，比如，出现了几个不同方法的调用。请问，你的代码到底是在测试谁呢？
1. 测试只做了代码覆盖，没有断言。请记住，测试一定要有断言。
1. 还有一种常见的“坏味道”：复杂。最典型的场景是，当你看到测试代码里出现各种判断和循环语句，基本上这个测试就有问题了。你真正应该做的是，多写几个测试，每个测试覆盖一种场景。

怎么样的测试算是好的测试呢？有人做了一个总结 A-TRIP，这是五个单词的缩写，分别是：
1. Automatic，自动化； 无需人工干预。
1. Thorough，全面的；覆盖各种场景。
1. Repeatable，可重复的；可反复执行。
1. Independent，独立的；各单元测试不相关，无依赖。
1. Professional，专业的。测试代码也需要像代码一样有良好的命名、清晰、可重构。

编写可测试代码：觉得测试难写，关键就在于，你始终是站在写代码的视角，而不是写测试的视角。